<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:stratisui="clr-namespace:Stratis.VS.StratisEVM.UI;assembly="
                    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
                    xmlns:vm="clr-namespace:Stratis.VS.StratisEVM.UI.ViewModel;assembly="
                    xmlns:cm="clr-namespace:System.ComponentModel;assembly=WindowsBase"
                    xmlns:vsshell="clr-namespace:Microsoft.VisualStudio.PlatformUI;assembly=Microsoft.VisualStudio.Shell.15.0">
    <stratisui:TreeViewItemKindConverter x:Key="TreeViewItemKindConverter"/>
    <stratisui:TreeViewItemNameConverter x:Key="TreeViewItemNameConverter"/>
    <stratisui:BlockchainInfoKindConverter x:Key="BlockchainInfoKindConverter"/>

    <DataTemplate x:Key="BlockchainInfoTemplate" DataType="{x:Type vm:BlockchainInfo}">
        <StackPanel x:Name="GroupPanel" Orientation="Horizontal" Margin="0,2,0,2">
            <ui:Image x:Name="NodeImage" Width="16" Height="16" Source="{DynamicResource StratisIconDrawingImage}"/>
            <ui:TextBlock x:Name="Name" Text="{Binding Path=Name}" Margin="4,0,0,0" /> 
        </StackPanel>

        <DataTemplate.Triggers>
            <MultiDataTrigger>
                <MultiDataTrigger.Conditions>
                    <Condition Binding="{Binding Path=Kind}" Value="UserFolder" />
                    <Condition Binding="{Binding Path=IsExpanded, RelativeSource={RelativeSource TemplatedParent}}" Value="True" />
                </MultiDataTrigger.Conditions>
                <Setter TargetName="NodeImage" Property="Source" Value="{x:Static stratisui:BlockchainExplorerTree.FolderOpenIcon}" />
            </MultiDataTrigger>

            <MultiDataTrigger>
                <MultiDataTrigger.Conditions>
                    <Condition Binding="{Binding Path=Kind}" Value="UserFolder" />
                    <Condition Binding="{Binding Path=IsExpanded, RelativeSource={RelativeSource TemplatedParent}}" Value="False" />
                </MultiDataTrigger.Conditions>
                <Setter TargetName="NodeImage" Property="Source" Value="{x:Static stratisui:BlockchainExplorerTree.FolderClosedIcon}" />
            </MultiDataTrigger>

            <DataTrigger Binding="{Binding Path=IsSelected, RelativeSource={RelativeSource TemplatedParent}}" Value="True">
                <Setter TargetName="Name" Property="Foreground"  Value="White" />
                <Setter Property="BitmapEffect">
                    <Setter.Value>
                        <OuterGlowBitmapEffect GlowColor="Black" />
                    </Setter.Value>
                </Setter>
            </DataTrigger>

            <MultiDataTrigger>
                <MultiDataTrigger.Conditions>
                    <Condition Binding="{Binding Path=Kind}" Value="Folder" />
                    <Condition Binding="{Binding Path=Name}" Value="Endpoints" />
                </MultiDataTrigger.Conditions>
                <Setter TargetName="NodeImage" Property="Source" Value="{x:Static stratisui:BlockchainExplorerTree.GlobeIcon}" />
            </MultiDataTrigger>
            
            <DataTrigger Binding="{Binding Path=Kind}" Value="Endpoint">
                <Setter TargetName="NodeImage" Property="Source" Value="{x:Static stratisui:BlockchainExplorerTree.UrlIcon}" />
            </DataTrigger>

            <MultiDataTrigger>
                <MultiDataTrigger.Conditions>
                    <Condition Binding="{Binding Path=Kind}" Value="Network" />
                    <Condition Binding="{Binding Path=Name}" Value="Stratis Mainnet" />
                </MultiDataTrigger.Conditions>
                <Setter TargetName="NodeImage" Property="Source" Value="{DynamicResource StratisIconDrawingImage}" />
            </MultiDataTrigger>

            
            
        </DataTemplate.Triggers>
    </DataTemplate>
    
    
    <!-- Context Menus -->

    <ContextMenu x:Key="NetworkContextMenu">
        <MenuItem Header="Add Endpoint..." Command="{x:Static stratisui:BlockchainExplorerTree.NewEndpointCmd}">
            <MenuItem.Icon>
                <Image Source="{x:Static stratisui:BlockchainExplorerTree.GlobeIcon}" Width="16" Height="16" />
            </MenuItem.Icon>
        </MenuItem>
    </ContextMenu>

    <ContextMenu x:Key="StratisNetworkContextMenu">
        <MenuItem Header="Statistics" Command="{x:Static stratisui:BlockchainExplorerTree.NewEndpointCmd}">
            <MenuItem.Icon>
                <Image Source="{x:Static stratisui:BlockchainExplorerTree.GlobeIcon}" Width="16" Height="16" />
            </MenuItem.Icon>
        </MenuItem>
    </ContextMenu>
    
    
    <!-- this is the style that is applied to the tree items -->
    <Style x:Key="TreeViewItemStyle" TargetType="{x:Type TreeViewItem}">
        <Setter Property="HeaderTemplate" Value="{StaticResource BlockchainInfoTemplate}" />
        <Setter Property="Foreground" Value="{DynamicResource {x:Static vsshell:EnvironmentColors.ToolWindowTextBrushKey}}"/>
        <Setter Property="Background" Value="{DynamicResource {x:Static vsshell:EnvironmentColors.ToolWindowBackgroundBrushKey}}"/>
    </Style>
  
    <Style x:Key="TreeViewStyle" TargetType="{x:Type TreeView}">
        <Setter Property="Margin" Value="0,20,0,0" />
        
    </Style> 
  
    <ContextMenu x:Key="TreeMenu">
        <MenuItem Header="Add Network..." Command="{x:Static stratisui:BlockchainExplorerTree.NewNetworkCmd}">
            <MenuItem.Icon>
                <Image Source="{x:Static stratisui:BlockchainExplorerTree.NetworkIcon}" Width="16" Height="16" />
            </MenuItem.Icon>
        </MenuItem>
    </ContextMenu>

  
    <!-- sorts categories by names in ascending order -->
  <cm:SortDescriptionCollection x:Key="AscendingNames">
    <cm:SortDescription PropertyName="Header.CategoryName"
                        Direction="Ascending" />
  </cm:SortDescriptionCollection>

  <!-- sorts categories by names in descending order -->
  <cm:SortDescriptionCollection x:Key="DescendingNames">
    <cm:SortDescription PropertyName="Header.CategoryName"
                        Direction="Descending" />
  </cm:SortDescriptionCollection>
  
  <!-- default text style -->
  <Style TargetType="TextBlock">
        <Setter Property="TextWrapping" Value="Wrap" />
    </Style>

  <!-- default style for hyperlinks -->
  <Style TargetType="{x:Type Hyperlink}">
    <Setter Property="Foreground"
            Value="#FFA72222" />
    <Setter Property="TextDecorations"
            Value="None" />
    <Setter Property="ToolTip"
            Value="Visit website" />
  </Style>
   

    <!-- a custom root node for the tree -->
    <TreeViewItem x:Key="RootNode">
        <TreeViewItem.Header>
            <StackPanel Orientation="Horizontal" Margin="0,2,0,2">
                <Image x:Name="RootNodeImage" Source="{x:Static stratisui:BlockchainExplorerTree.NetworkIcon}" Width="16" Height="16" />
                <TextBlock Margin="2,0,0,0" VerticalAlignment="Center"  Text="EVM Networks" />
            </StackPanel>
        </TreeViewItem.Header>
        <TreeViewItem.ContextMenu>
            <ContextMenu>
                <MenuItem Header="Add Network..." Command="{x:Static stratisui:BlockchainExplorerTree.NewNetworkCmd}">
                    <MenuItem.Icon>
                        <Image Source="{x:Static stratisui:BlockchainExplorerTree.AddNetworkIcon}" Width="16" Height="16" />
                    </MenuItem.Icon>
                </MenuItem>
            </ContextMenu>

        </TreeViewItem.ContextMenu>
    </TreeViewItem>

    <DrawingImage x:Key="StratisIconDrawingImage">
        <DrawingImage.Drawing>
            <DrawingGroup ClipGeometry="M0,0 V64 H64 V0 H0 Z">
                <DrawingGroup.Transform>
                    <TranslateTransform X="0" Y="1" />
                </DrawingGroup.Transform>
                <DrawingGroup Opacity="1" Transform="0.1,0,0,-0.1,0,64">
                    <GeometryDrawing Brush="{DynamicResource {x:Static vsshell:EnvironmentColors.ToolWindowTextBrushKey}}" Geometry="F1 M64,64z M0,0z M153,537L0,436 0,374 0,313 153,211C237,156 309,110 313,110 317,110 381,151 455,200 529,250 592,290 595,290 598,290 600,274 600,255 600,221 596,217 456,124L313,29 168,124C34,213 -7,234 2,211 4,206 74,156 159,100L312,-1 466,101 620,203 620,268C620,320 617,331 605,327 597,324 530,280 455,230 380,180 312,141 305,144 297,147 230,190 155,240 24,328 20,331 20,366 20,411 17,412 170,310 236,265 297,227 305,224 319,218 620,414 620,429 620,437 319,641 310,639 307,639 236,593 153,537z M447,523C520,474 580,432 580,429 580,417 318,249 306,253 286,261 45,421 43,428 41,434 296,607 310,609 312,610 374,571 447,523z" />
                </DrawingGroup>
            </DrawingGroup>
        </DrawingImage.Drawing>
    </DrawingImage>


</ResourceDictionary>